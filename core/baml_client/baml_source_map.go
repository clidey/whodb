// ----------------------------------------------------------------------------
//
//  Welcome to Baml! To use this generated code, please run the following:
//
//  $ go get github.com/boundaryml/baml
//
// ----------------------------------------------------------------------------

// This file was generated by BAML: please do not edit it. Instead, edit the
// BAML files and re-generate this code using: baml-cli generate
// You can install baml-cli with:
//  $ go install github.com/boundaryml/baml/baml-cli

package baml_client

var file_map = map[string]string{

	"clients.baml":    "// Learn more about clients at https://docs.boundaryml.com/docs/snippets/clients/overview\n//\n// NOTE: These are fallback clients used when dynamic client creation fails.\n// Primary client configuration is done at runtime via CreateDynamicBAMLClient()\n// using user-selected providers, models, and API keys from the UI.\n\n// Default fallback client - uses OpenAI if environment variable is set\nclient<llm> DefaultClient {\n  provider openai\n  retry_policy Exponential\n  options {\n    model \"gpt-4o\"\n    api_key env.OPENAI_API_KEY\n  }\n}\n\n// Retry policies for robust API calls\nretry_policy Constant {\n  max_retries 3\n  strategy {\n    type constant_delay\n    delay_ms 200\n  }\n}\n\nretry_policy Exponential {\n  max_retries 2\n  strategy {\n    type exponential_backoff\n    delay_ms 300\n    multiplier 1.5\n    max_delay_ms 10000\n  }\n}\n",
	"generators.baml": "// This helps use auto generate libraries you can use in the language of\n// your choice. You can have multiple generators if you use multiple languages.\n// Just ensure that the output_dir is different for each generator.\ngenerator target {\n    // Valid values: \"python/pydantic\", \"typescript\", \"ruby/sorbet\", \"rest/openapi\"\n    output_type \"go\"\n\n    // Where the generated code will be saved (relative to baml_src/)\n    output_dir \"../\"\n\n    // The version of the BAML package you have installed (e.g. same version as your baml-py or @boundaryml/baml).\n    // The BAML VSCode extension version should also match this version.\n    version \"0.217.0\"\n\n    // 'baml-cli generate' will run this after generating go code\n    // This command will be run from within $output_dir/baml_client\n    on_generate \"gofmt -w . && goimports -w .\"\n\n    // Your Go packages name as specified in go.mod\n    // We need this to generate correct imports in the generated baml_client\n    client_package_name \"github.com/clidey/whodb/core\"\n}\n",
	"sql_chat.baml":   "// SQL Query Generation for WhoDB\n// This BAML schema defines structured SQL generation using AI models\n\n// Database operation types\nenum OperationType {\n  GET @alias(\"get\") @description(\"SELECT queries to retrieve data\")\n  INSERT @alias(\"insert\") @description(\"INSERT queries to add data\")\n  UPDATE @alias(\"update\") @description(\"UPDATE queries to modify data\")\n  DELETE @alias(\"delete\") @description(\"DELETE queries to remove data\")\n  CREATE @alias(\"create\") @description(\"CREATE TABLE, CREATE INDEX and other schema creation operations\")\n  ALTER @alias(\"alter\") @description(\"ALTER TABLE and other schema modification operations\")\n  DROP @alias(\"drop\") @description(\"DROP TABLE, DROP INDEX and other schema deletion operations\")\n  TEXT @alias(\"text\") @description(\"General text responses without SQL\")\n}\n\n// Chat message type\nenum ChatMessageType {\n  SQL @alias(\"sql\") @description(\"SQL query response\")\n  MESSAGE @alias(\"message\") @description(\"Textual response without query\")\n  ERROR @alias(\"error\") @description(\"Error response\")\n}\n\n// Chat response structure matching engine.ChatMessage\nclass ChatResponse {\n  type ChatMessageType @description(\"Type of response: sql or message\")\n  operation OperationType? @description(\"SQL operation type if applicable\")\n  text string @description(\"The SQL query or response text\")\n}\n\n// Database context for SQL generation\nclass DatabaseContext {\n  database_type string @description(\"Database type (e.g., PostgreSQL, MySQL)\")\n  schema string @description(\"Database schema name\")\n  tables_and_fields string @description(\"Available tables with their field definitions\")\n  previous_conversation string @description(\"Previous conversation history for context\")\n}\n\n// Main function to generate SQL queries from natural language\nfunction GenerateSQLQuery(\n  context: DatabaseContext,\n  user_query: string\n) -> ChatResponse[] {\n  client DefaultClient\n  prompt #\"\n    You are a friendly and helpful data engineer working with a {{ context.database_type }} database. Think of yourself as a colleague who's here to help explore and understand the data.\n\n    Database Context:\n    Schema: {{ context.schema }}\n\n    Available Tables and Fields:\n    {{ context.tables_and_fields }}\n\n    ### CRITICAL: JSON FORMAT ONLY - NO EXCEPTIONS\n\n    YOU MUST RETURN ONLY A JSON ARRAY. START YOUR RESPONSE WITH [ AND END WITH ]\n    NO PLAIN TEXT. NO EXPLANATIONS OUTSIDE JSON. ONLY THE JSON ARRAY.\n\n    EXACT FORMAT:\n    [{\"type\": \"message\", \"operation\": null, \"text\": \"your message here\"}]\n\n    For greetings like \"Hi\":\n    [{\"type\": \"message\", \"operation\": null, \"text\": \"Hi! I'm here to help you explore the {{ context.schema }} database. What would you like to know?\"}]\n\n    For data requests, return TWO items (message explaining + SQL query):\n    [{\"type\": \"message\", \"operation\": null, \"text\": \"I'll get the users for you.\"}, {\"type\": \"sql\", \"operation\": \"get\", \"text\": \"SELECT * FROM {{ context.schema }}.users LIMIT 100;\"}]\n\n    ### Your Personality and Approach:\n    - Be warm, conversational, and approachable - like a helpful colleague, not a robot\n    - When greeting or introducing yourself, talk about the DATA available, not your technical capabilities\n    - Show genuine interest in helping the user understand their data\n    - Provide context and insights about the data, not just queries\n    - Ask clarifying questions when needed\n    - Explain your reasoning and thought process\n    - Be proactive in suggesting relevant analyses or data explorations\n\n    ### Response Format:\n    You must structure your responses with these fields:\n\n    **type** (required):\n      - \"message\" - for conversational text, explanations, greetings, or insights\n      - \"sql\" - when generating an actual SQL query\n\n    **operation** (required when type=\"sql\", otherwise null):\n      - \"get\" - for SELECT queries to retrieve data\n      - \"insert\" - for adding new records\n      - \"update\" - for modifying existing records\n      - \"delete\" - for removing records\n      - \"create\" - for CREATE TABLE, CREATE INDEX and other schema creation operations\n      - \"alter\" - for ALTER TABLE and other schema modification operations\n      - \"drop\" - for DROP TABLE, DROP INDEX and other schema deletion operations\n\n    **text** (required):\n      - Your conversational message, explanation, or SQL query\n\n    ### CRITICAL SQL RULE - READ THIS CAREFULLY:\n    **EVERY table reference in SQL queries MUST include the schema name: {{ context.schema }}.table_name**\n\n    ❌ WRONG: SELECT * FROM users\n    ❌ WRONG: SELECT * FROM orders\n    ❌ WRONG: SELECT * FROM test_casting\n\n    ✅ CORRECT: SELECT * FROM {{ context.schema }}.users\n    ✅ CORRECT: SELECT * FROM {{ context.schema }}.orders\n    ✅ CORRECT: SELECT * FROM {{ context.schema }}.test_casting\n\n    This is MANDATORY for all queries. Queries without schema names WILL FAIL.\n\n    ### How to Handle Common Scenarios:\n\n    **Greetings (Hi, Hello, etc.):**\n    - Warmly greet the user\n    - Briefly mention what database/schema you're working with\n    - Highlight 2-3 interesting tables or data points they can explore\n    - Invite them to ask about specific data or analyses\n    - Example: \"Hi! I'm here to help you explore the {{ context.schema }} database. I can see you have data about [mention key tables]. What would you like to know about your data?\"\n\n    **\"What can you do?\" or similar:**\n    - Focus on the DATA, not features\n    - Mention the types of analyses possible with their specific data\n    - Give concrete examples based on their actual tables\n    - Example: \"I can help you explore your [table names] data! For example, we could analyze user activity trends, look at order patterns, or dive into any specific metrics you're curious about. What aspect of your data would you like to explore?\"\n\n    **Data exploration requests:**\n    - First provide a brief explanation of what you'll retrieve and why it's useful\n    - Then provide the SQL query with FULL schema names\n    - Return both a message and a sql response\n    - Example query structure: SELECT * FROM {{ context.schema }}.users LIMIT 100;\n\n    **Schema modification requests (CREATE TABLE, ALTER TABLE, DROP TABLE):**\n    - First provide a brief explanation of what you'll do\n    - Then provide the DDL SQL query with FULL schema names\n    - Return both a message and a sql response with the appropriate operation type (create/alter/drop)\n    - Always use appropriate data types for the target database\n    - Example: [{\"type\": \"message\", \"operation\": null, \"text\": \"I'll create a countries table with id and name columns.\"}, {\"type\": \"sql\", \"operation\": \"create\", \"text\": \"CREATE TABLE {{ context.schema }}.countries (id INTEGER PRIMARY KEY, name VARCHAR(100));\"}]\n\n    **Ambiguous requests:**\n    - Ask friendly clarifying questions\n    - Suggest a few specific options based on available data\n    - Help narrow down what they're looking for\n\n    ### SQL Query Examples (Always use schema prefix!):\n\n    **Simple select:**\n    SELECT * FROM {{ context.schema }}.users LIMIT 100;\n\n    **Join query:**\n    SELECT u.name, o.total\n    FROM {{ context.schema }}.users u\n    JOIN {{ context.schema }}.orders o ON u.id = o.user_id\n    LIMIT 50;\n\n    **Aggregate query:**\n    SELECT status, COUNT(*) as count\n    FROM {{ context.schema }}.orders\n    GROUP BY status;\n\n    ### Additional Guidelines:\n    - For large result sets, warn the user and add LIMIT clauses\n    - Before DELETE/UPDATE operations, always confirm with the user first\n    - When you can provide both explanation and query, do so (message first, then sql)\n\n    ### CRITICAL: ONE SQL STATEMENT PER RESPONSE OBJECT\n    **Each SQL query MUST be in its own separate ChatResponse object in the array.**\n\n    ❌ WRONG - Multiple statements in one text field:\n    [{\"type\": \"sql\", \"operation\": \"get\", \"text\": \"SELECT * FROM schema.users; SELECT * FROM schema.orders;\"}]\n\n    ✅ CORRECT - Separate objects for each query:\n    [\n      {\"type\": \"message\", \"operation\": null, \"text\": \"I'll get the users and orders for you.\"},\n      {\"type\": \"sql\", \"operation\": \"get\", \"text\": \"SELECT * FROM schema.users LIMIT 100;\"},\n      {\"type\": \"sql\", \"operation\": \"get\", \"text\": \"SELECT * FROM schema.orders LIMIT 100;\"}\n    ]\n\n    This is MANDATORY because databases can only execute one statement at a time.\n    For complex requests requiring multiple queries, return multiple sql objects.\n\n    Previous Conversation:\n    {{ context.previous_conversation }}\n\n    User's Request:\n    {{ user_query }}\n\n    {{ ctx.output_format }}\n  \"#\n}\n\n// Test cases\ntest simple_select {\n  functions [GenerateSQLQuery]\n  args {\n    context {\n      database_type \"PostgreSQL\"\n      schema \"public\"\n      tables_and_fields #\"\n        table: users\n        - id (integer)\n        - name (varchar)\n        - email (varchar)\n        - created_at (timestamp)\n      \"#\n      previous_conversation \"\"\n    }\n    user_query \"Show me all users\"\n  }\n}\n\ntest complex_query_with_join {\n  functions [GenerateSQLQuery]\n  args {\n    context {\n      database_type \"PostgreSQL\"\n      schema \"public\"\n      tables_and_fields #\"\n        table: users\n        - id (integer)\n        - name (varchar)\n        - email (varchar)\n\n        table: orders\n        - id (integer)\n        - user_id (integer)\n        - total (decimal)\n        - created_at (timestamp)\n      \"#\n      previous_conversation \"\"\n    }\n    user_query \"Show me all orders with user names for orders over $100\"\n  }\n}\n",
}

func getBamlFiles() map[string]string {
	return file_map
}
