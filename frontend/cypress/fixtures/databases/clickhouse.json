{
  "type": "ClickHouse",
  "category": "sql",
  "dataTypesTable": "data_types",
  "mockData": {
    "supportedTable": "users",
    "tableWithFKs": null
  },
  "testTable": {
    "name": "users",
    "identifierField": "username",
    "identifierColIndex": 1,
    "idField": "id",
    "firstId": "1",
    "firstName": "john_doe",
    "testValues": {
      "original": "john_doe",
      "modified": "john_doe1",
      "rowIndex": 0
    },
    "searchTerm": "john",
    "whereConditions": {
      "testId1": "1",
      "testId2": "2",
      "testId3": "3",
      "thirdColumn": "email",
      "thirdValue": "jane@example.com",
      "expectedValue": "admin_user"
    },
    "typeCastingTable": "test_casting"
  },
  "connection": {
    "host": "localhost",
    "port": 8123,
    "user": "user",
    "password": "password",
    "database": "test_db",
    "advanced": {}
  },
  "schema": null,
  "whereOperators": {
    "equals": "=",
    "notEquals": "!=",
    "greaterThan": ">",
    "lessThan": "<",
    "greaterOrEqual": ">=",
    "lessOrEqual": "<="
  },
  "sidebar": {
    "showsDatabaseDropdown": true,
    "showsSchemaDropdown": false
  },
  "features": {
    "graph": true,
    "export": true,
    "scratchpad": true,
    "scratchpadUpdate": true,
    "mockData": true,
    "chat": true,
    "whereConditions": true,
    "multiConditionFilter": true,
    "queryHistory": true,
    "crud": true,
    "typeCasting": true,
    "import": true
  },
  "import": {
    "sampleDataDir": "clickhouse",
    "supportsMultiStatement": false,
    "csvTable": "users",
    "excelTable": "products",
    "csvExpectedColumns": ["id", "username", "email", "password", "created_at"]
  },
  "mutationDelay": 2000,
  "featureNotes": {},
  "expectedTables": [
    "data_types",
    "order_items",
    "order_summary",
    "orders",
    "payments",
    "products",
    "test_casting",
    "users"
  ],
  "tables": {
    "users": {
      "columns": {
        "id": "uint32",
        "username": "string",
        "email": "string",
        "password": "string",
        "created_at": "datetime"
      },
      "expectedColumns": [
        "",
        "id",
        "username",
        "email",
        "password",
        "created_at"
      ],
      "testData": {
        "initial": [
          [
            "",
            "1",
            "john_doe",
            "john@example.com",
            "securepassword1"
          ],
          [
            "",
            "2",
            "jane_smith",
            "jane@example.com",
            "securepassword2"
          ],
          [
            "",
            "3",
            "admin_user",
            "admin@example.com",
            "adminpass"
          ]
        ],
        "newRow": {
          "id": "9999",
          "username": "alice_wonder",
          "email": "alice@example.com",
          "password": "alicepass123"
        }
      },
      "metadata": {
        "type": "mergetree",
        "hasSize": true,
        "hasCount": true
      }
    },
    "test_casting": {
      "columns": {
        "id": "UInt32",
        "bigint_col": "int64",
        "integer_col": "int32",
        "smallint_col": "int16",
        "numeric_col": "float64",
        "description": "string"
      },
      "testData": {
        "newRow": {
          "bigint_col": "5000000000",
          "integer_col": "42",
          "smallint_col": "256",
          "numeric_col": "9876.54",
          "description": "Test casting from strings"
        }
      }
    },
    "data_types": {
      "columns": {
        "id": "uint32",
        "col_int8": "int8",
        "col_int16": "int16",
        "col_int32": "int32",
        "col_int64": "int64",
        "col_float32": "float32",
        "col_float64": "float64",
        "col_decimal": "decimal(10, 2)",
        "col_date": "date",
        "col_datetime": "datetime",
        "col_string": "string",
        "col_fixedstring": "fixedstring(10)",
        "col_boolean": "uint8"
      },
      "testData": {
        "typeTests": {
          "col_int8": {
            "type": "int8",
            "addValue": "100",
            "deleteValue": "110",
            "originalValue": "50",
            "updateValue": "75"
          },
          "col_int16": {
            "type": "int16",
            "addValue": "30000",
            "deleteValue": "31000",
            "originalValue": "1000",
            "updateValue": "25000"
          },
          "col_int32": {
            "type": "int32",
            "addValue": "2000000000",
            "deleteValue": "2100000000",
            "originalValue": "100000",
            "updateValue": "1500000000"
          },
          "col_int64": {
            "type": "int64",
            "addValue": "9000000000000",
            "deleteValue": "9100000000000",
            "originalValue": "10000000000",
            "updateValue": "8000000000000"
          },
          "col_float32": {
            "type": "float32",
            "addValue": "3.5",
            "deleteValue": "6.5",
            "originalValue": "1.5",
            "updateValue": "2.5"
          },
          "col_float64": {
            "type": "float64",
            "addValue": "3.5",
            "deleteValue": "6.5",
            "originalValue": "2.5",
            "updateValue": "4.5"
          },
          "col_decimal": {
            "type": "decimal",
            "addValue": "12345.67",
            "deleteValue": "54321.89",
            "originalValue": "123.45",
            "updateValue": "98765.43"
          },
          "col_date": {
            "type": "date",
            "addValue": "2025-12-31",
            "displayAddValue": "2025-12-31T00:00:00Z",
            "deleteValue": "2025-11-15",
            "displayDeleteValue": "2025-11-15T00:00:00Z",
            "originalValue": "2025-01-01T00:00:00Z",
            "inputOriginalValue": "2025-01-01",
            "updateValue": "2025-06-15",
            "displayUpdateValue": "2025-06-15T00:00:00Z"
          },
          "col_datetime": {
            "type": "datetime",
            "addValue": "2025-12-31 23:59:59",
            "displayAddValue": "2025-12-31T23:59:59Z",
            "deleteValue": "2025-11-15 10:30:00",
            "displayDeleteValue": "2025-11-15T10:30:00Z",
            "originalValue": "2025-01-01T12:00:00Z",
            "inputOriginalValue": "2025-01-01 12:00:00",
            "updateValue": "2025-06-15 12:30:00",
            "displayUpdateValue": "2025-06-15T12:30:00Z"
          },
          "col_string": {
            "type": "string",
            "addValue": "new_string",
            "deleteValue": "delete_string",
            "originalValue": "string_val",
            "updateValue": "updated_string"
          },
          "col_fixedstring": {
            "type": "fixedstring",
            "addValue": "newfix",
            "deleteValue": "delfix",
            "originalValue": "fixed",
            "updateValue": "upfix"
          },
          "col_boolean": {
            "type": "uint8",
            "addValue": "0",
            "deleteValue": "0",
            "originalValue": "1",
            "updateValue": "0"
          }
        }
      }
    }
  },
  "graph": {
    "expectedNodes": {
      "users": [],
      "orders": [],
      "order_items": [],
      "products": [],
      "payments": [],
      "order_summary": []
    }
  },
  "sql": {
    "schemaPrefix": "test_db.",
    "selectAllUsers": "SELECT * FROM test_db.users ORDER BY id;",
    "selectUserById": "SELECT * FROM test_db.users WHERE id=1;",
    "updateUser": "ALTER TABLE test_db.users UPDATE username='john_doe1' WHERE id=1",
    "revertUser": "ALTER TABLE test_db.users UPDATE username='john_doe' WHERE id=1",
    "countUsers": "SELECT COUNT(*) as user_count FROM test_db.users;",
    "countColumn": "user_count",
    "invalidQuery": "SELECT * FROM test_db.users1;",
    "permissionDeniedQuery": "CREATE TABLE test_db.users (id UInt32) ENGINE = MergeTree() ORDER BY id",
    "emptyResultQuery": "SELECT * FROM test_db.users WHERE id = 0",
    "errorPatterns": {
      "tableNotFound": "Unknown table"
    }
  },
  "ssl": {
    "port": 9440,
    "caCertPath": "/app/certs/ca/clickhouse/ca.pem",
    "modes": [
      { "mode": "disabled", "shouldSucceed": false, "needsCert": false, "description": "No SSL on SSL-only port" },
      { "mode": "enabled", "shouldSucceed": true, "needsCert": true, "description": "SSL enabled with CA verification" },
      { "mode": "insecure", "shouldSucceed": true, "needsCert": false, "description": "SSL without certificate verification" }
    ],
    "negativeTests": [
      { "mode": "enabled", "withCert": false, "description": "enabled without CA cert should fail" }
    ]
  }
}
